# AnythingLLM Integration - AI åŠ©æ‰‹æŒ‡å—

## é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: anythingllm-integration
**ç‰ˆæœ¬**: v1.2.0
**æè¿°**: AnythingLLM çŸ¥è¯†åº“é›†æˆ - Claude Code æ’ä»¶

æœ¬é¡¹ç›®ä¸º Claude Code æä¾›ä¸ AnythingLLM çŸ¥è¯†åº“çš„é›†æˆåŠŸèƒ½ï¼Œä¸»è¦ç‰¹æ€§ï¼š

- ğŸ¤– **è‡ªåŠ¨æŸ¥è¯¢** - é€šè¿‡ Hooks è‡ªåŠ¨å¼ºåˆ¶æŠ€æœ¯é—®é¢˜æŸ¥è¯¢çŸ¥è¯†åº“
- ğŸŒ **ç½‘ç»œåŒæ­¥** - æ”¯æŒä»ç½‘ç»œæœç´¢å¹¶åŒæ­¥çŸ¥è¯†
- ğŸ“ **æ™ºèƒ½ç»„ç»‡** - è‡ªåŠ¨æŒ‰ä¸»é¢˜åˆ†ç›®å½•ç»„ç»‡æ–‡ä»¶
- ğŸ”Œ **MCP é›†æˆ** - æä¾› 6 ä¸ª MCP å·¥å…·æ¥å£
- ğŸ’¬ **æ–œæ å‘½ä»¤** - ç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œæ¥å£

## MCP å·¥å…·ä½¿ç”¨

æœ¬é¡¹ç›®é€šè¿‡ MCP æœåŠ¡å™¨æä¾› 5 ä¸ªå·¥å…·ï¼ŒæŒ‰ä½¿ç”¨ä¼˜å…ˆçº§æ’åºï¼š

### 1ï¸âƒ£ anythingllm_search - å‘é‡æœç´¢

**ç”¨é€”**: åœ¨ AnythingLLM çŸ¥è¯†åº“ä¸­è¿›è¡Œå‘é‡æœç´¢ï¼Œè¿”å›æœ€ç›¸å…³çš„æ–‡æ¡£ç‰‡æ®µ

**ä½¿ç”¨åœºæ™¯**:
- ç”¨æˆ·æå‡ºæŠ€æœ¯é—®é¢˜æ—¶ä¼˜å…ˆä½¿ç”¨
- éœ€è¦æŸ¥æ‰¾ç‰¹å®šä¸»é¢˜çš„æ–‡æ¡£æ—¶
- éªŒè¯çŸ¥è¯†åº“ä¸­æ˜¯å¦åŒ…å«ç›¸å…³ä¿¡æ¯

**å‚æ•°**:
- `query` (å¿…éœ€): æœç´¢æŸ¥è¯¢ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€é—®é¢˜
- `workspace` (å¯é€‰): å·¥ä½œåŒºæ ‡è¯†ç¬¦

**ç¤ºä¾‹**:
```
æœç´¢ "PostgreSQL 18 æ€§èƒ½ä¼˜åŒ–" ç›¸å…³æ–‡æ¡£
```

### 2ï¸âƒ£ anythingllm_chat - RAG é—®ç­”

**ç”¨é€”**: åŸºäºæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰çš„æ™ºèƒ½é—®ç­”ï¼Œè‡ªåŠ¨æ£€ç´¢æ–‡æ¡£å¹¶ç”Ÿæˆå›ç­”

**ä½¿ç”¨åœºæ™¯**:
- éœ€è¦è¯¦ç»†ã€ç»“æ„åŒ–çš„å›ç­”æ—¶
- ç”¨æˆ·éœ€è¦ç»¼åˆæ€§çš„è§£é‡Šæ—¶
- éœ€è¦å¼•ç”¨å¤šä¸ªæ–‡æ¡£ç‰‡æ®µæ—¶

**å‚æ•°**:
- `message` (å¿…éœ€): ç”¨æˆ·æ¶ˆæ¯æˆ–é—®é¢˜
- `workspace` (å¯é€‰): å·¥ä½œåŒºæ ‡è¯†ç¬¦

**ç¤ºä¾‹**:
```
è¯¢é—® "PostgreSQL 18 çš„æ–°ç‰¹æ€§æœ‰å“ªäº›ï¼Ÿ"
```

### 3ï¸âƒ£ anythingllm_list_workspaces - åˆ—å‡ºå·¥ä½œåŒº

**ç”¨é€”**: åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ AnythingLLM å·¥ä½œåŒº

**ä½¿ç”¨åœºæ™¯**:
- éœ€è¦æŸ¥çœ‹ç°æœ‰å·¥ä½œåŒºæ—¶
- ç¡®å®šç›®æ ‡å·¥ä½œåŒºåç§°æ—¶

**å‚æ•°**: æ— 

### 4ï¸âƒ£ anythingllm_create_workspace - åˆ›å»ºå·¥ä½œåŒº

**ç”¨é€”**: åˆ›å»ºæ–°çš„ AnythingLLM å·¥ä½œåŒº

**ä½¿ç”¨åœºæ™¯**:
- éœ€è¦ä¸ºæ–°çš„ä¸»é¢˜é¢†åŸŸåˆ›å»ºç‹¬ç«‹çŸ¥è¯†åº“æ—¶

**å‚æ•°**:
- `name` (å¿…éœ€): å·¥ä½œåŒºåç§°

### 5ï¸âƒ£ anythingllm_upload_document - ä¸Šä¼ æ–‡æ¡£

**ç”¨é€”**: å‘æŒ‡å®šå·¥ä½œåŒºä¸Šä¼ æ–‡æ¡£ï¼Œæ–‡æ¡£ä¼šè‡ªåŠ¨å‘é‡åŒ–

**ä½¿ç”¨åœºæ™¯**:
- åŒæ­¥æœ¬åœ°æ–‡æ¡£åˆ°çŸ¥è¯†åº“æ—¶
- ä¿å­˜ç½‘ç»œæœç´¢ç»“æœæ—¶

**å‚æ•°**:
- `workspace` (å¿…éœ€): ç›®æ ‡å·¥ä½œåŒºæ ‡è¯†ç¬¦
- `title` (å¿…éœ€): æ–‡æ¡£æ ‡é¢˜
- `content` (å¿…éœ€): æ–‡æ¡£å†…å®¹ï¼ˆæ”¯æŒ Markdownï¼‰
- `metadata` (å¯é€‰): å…ƒæ•°æ®ï¼ˆå¦‚ tags, categoryï¼‰

**API è¯´æ˜**: ä½¿ç”¨å®˜æ–¹ `/v1/document/raw-text` ç«¯ç‚¹ï¼Œè‡ªåŠ¨å¤„ç†å‘é‡åµŒå…¥

## æ–œæ å‘½ä»¤

### /setup - å®‰è£…å’Œé…ç½®

**åŠŸèƒ½**: è‡ªåŠ¨å®‰è£…ä¾èµ–å¹¶å¼•å¯¼ç¯å¢ƒé…ç½®

**æ‰§è¡Œå†…å®¹**:
- æ£€æµ‹æ’ä»¶å®‰è£…ä½ç½®
- å®‰è£… npm ä¾èµ–
- é…ç½®ç¯å¢ƒå˜é‡
- éªŒè¯ MCP æœåŠ¡å™¨

è¯¦è§: [commands/setup.md](commands/setup.md)

### /sync-knowledge - æ™ºèƒ½åŒæ­¥

**åŠŸèƒ½**: ç»Ÿä¸€çš„åŒæ­¥å‘½ä»¤ï¼Œæ”¯æŒä¸‰ç§æ–¹å¼

**ä½¿ç”¨æ–¹å¼**:
- ç½‘ç»œæœç´¢: `/sync-knowledge "PostgreSQL 18"`
- æœ¬åœ°æ–‡ä»¶: `/sync-knowledge "Vue æ–‡æ¡£" ~/docs/guide.md`
- URL æŠ“å–: `/sync-knowledge "React 19" https://react.dev/blog`
- äº¤äº’æ¨¡å¼: `/sync-knowledge`

è¯¦è§: [commands/sync-knowledge.md](commands/sync-knowledge.md)

## å¼ºåˆ¶æŸ¥è¯¢æœºåˆ¶

### å·¥ä½œåŸç†

é¡¹ç›®ä½¿ç”¨ Claude Code Plugin Hooks åœ¨æ¯æ¬¡å“åº”å‰æ£€æŸ¥ç”¨æˆ·è¾“å…¥ï¼Œå½“æ£€æµ‹åˆ°æŠ€æœ¯å…³é”®è¯æ—¶è‡ªåŠ¨æ³¨å…¥æŸ¥è¯¢æŒ‡ä»¤ã€‚

### è§¦å‘å…³é”®è¯

ä»¥ä¸‹å…³é”®è¯ä¼šè§¦å‘å¼ºåˆ¶æŸ¥è¯¢ï¼š

**æ•°æ®åº“**: PostgreSQL, MySQL, æ•°æ®åº“
**å‰ç«¯**: Vue, React, Angular, å‰ç«¯
**åç«¯**: .NET, C#, TypeScript, JavaScript, Python, Java, Go, Rust, Node, Express, Django, Spring
**æ¶æ„**: API, REST, GraphQL, Docker, Kubernetes
**å·¥å…·**: Git, Linux
**æ¡†æ¶**: ABP

### Hook é…ç½®

- é…ç½®æ–‡ä»¶: [hooks/hooks.json](hooks/hooks.json)
- è„šæœ¬: [scripts/force-knowledge-query.sh](scripts/force-knowledge-query.sh)
- è§¦å‘æ—¶æœº: PreToolUse (æ¯æ¬¡å·¥å…·è°ƒç”¨å‰)

### æŸ¥è¯¢æµç¨‹

```
ç”¨æˆ·æé—®
  â†“
Hook æ£€æµ‹æŠ€æœ¯å…³é”®è¯
  â†“
æ³¨å…¥å¼ºåˆ¶æŸ¥è¯¢æŒ‡ä»¤
  â†“
Claude å¿…é¡»å…ˆä½¿ç”¨ anythingllm_search
  â†“
åŸºäºæ£€ç´¢ç»“æœå›ç­”
```

## å·¥ä½œæµç¨‹

### å…¸å‹ä½¿ç”¨åœºæ™¯

#### åœºæ™¯ 1: å›ç­”æŠ€æœ¯é—®é¢˜

```
ç”¨æˆ·: PostgreSQL 18 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ

1. Hook æ£€æµ‹åˆ° "PostgreSQL" å…³é”®è¯
2. æ³¨å…¥å¼ºåˆ¶æŸ¥è¯¢æŒ‡ä»¤
3. ä½¿ç”¨ anythingllm_search æœç´¢ "PostgreSQL 18"
4. åŸºäºæœç´¢ç»“æœå›ç­”
```

#### åœºæ™¯ 2: åŒæ­¥æ–°çŸ¥è¯†

```
ç”¨æˆ·: åŒæ­¥ Vue 3.5 çš„æœ€æ–°æ–‡æ¡£

1. ä½¿ç”¨ anythingllm_list_workspaces æŸ¥çœ‹å·¥ä½œåŒº
2. ç¡®å®šç›®æ ‡å·¥ä½œåŒºï¼ˆå¦‚ "vue-docs"ï¼‰
3. æœç´¢ç½‘ç»œè·å– Vue 3.5 æ–‡æ¡£
4. æ•´ç†ä¸º Markdown æ ¼å¼
5. ä½¿ç”¨ anythingllm_upload_document ä¸Šä¼ 
```

#### åœºæ™¯ 3: éªŒè¯çŸ¥è¯†åº“

```
ç”¨æˆ·: çŸ¥è¯†åº“ä¸­æœ‰å…³äº React 19 çš„å†…å®¹å—ï¼Ÿ

1. ä½¿ç”¨ anythingllm_search æœç´¢ "React 19"
2. æ£€æŸ¥è¿”å›ç»“æœ
3. å¦‚æœ‰ç»“æœï¼Œæ˜¾ç¤ºæ‘˜è¦
4. å¦‚æ— ç»“æœï¼Œæç¤ºéœ€è¦åŒæ­¥
```

### æœ€ä½³å®è·µ

1. **ä¼˜å…ˆä½¿ç”¨çŸ¥è¯†åº“**: æŠ€æœ¯é—®é¢˜å…ˆæŸ¥è¯¢çŸ¥è¯†åº“
2. **ä¿æŒåŒæ­¥**: å®šæœŸåŒæ­¥æœ€æ–°æŠ€æœ¯æ–‡æ¡£
3. **ç»„ç»‡æ¸…æ™°**: æŒ‰ä¸»é¢˜åˆ†æ–‡ä»¶å¤¹ç»„ç»‡çŸ¥è¯†
4. **æ¥æºæ ‡æ³¨**: æ·»åŠ æ¥æºé“¾æ¥ä»¥ä¾¿æŸ¥é˜…
5. **éªŒè¯ç»“æœ**: ä¸Šä¼ åä½¿ç”¨æœç´¢éªŒè¯

## çŸ¥è¯†åº“åŒæ­¥è§„åˆ™

### æ–‡ä»¶ç»„ç»‡

**å¿…é¡»æŒ‰ä¸»é¢˜æ–‡ä»¶å¤¹ç»„ç»‡**ï¼š

```
knowledge/
â”œâ”€â”€ postgresql-18/              # ä¸»é¢˜æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ 2026-02-06-features.md
â”‚   â”œâ”€â”€ 2026-02-06-performance.md
â”‚   â””â”€â”€ 2026-02-06-security.md
â”œâ”€â”€ vue-3.5/                    # ä¸»é¢˜æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ 2026-02-06-guide.md
â”‚   â””â”€â”€ 2026-02-06-api.md
â””â”€â”€ react-19/                   # ä¸»é¢˜æ–‡ä»¶å¤¹
    â”œâ”€â”€ 2026-02-06-blog.md
    â””â”€â”€ 2026-02-06-changes.md
```

**ç»„ç»‡è§„åˆ™**:
- âœ… å¿…é¡»æŒ‰ä¸»é¢˜åˆ›å»ºå­æ–‡ä»¶å¤¹
- âœ… ä½¿ç”¨ä¸»é¢˜ä½œä¸ºæ–‡ä»¶å¤¹åç§°
- âœ… æ–‡ä»¶ååŒ…å«æ—¥æœŸå’Œæ ‡é¢˜
- âœ… ç›¸åŒä¸»é¢˜çš„æ–‡æ¡£æ”¾åœ¨åŒä¸€æ–‡ä»¶å¤¹
- âŒ ç¦æ­¢ç›´æ¥åœ¨ knowledge æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶

### è‡ªåŠ¨å»é‡

- åŸºäºæ ‡é¢˜åˆ¤æ–­æ˜¯å¦é‡å¤
- ç›¸åŒæ ‡é¢˜çš„æ–‡ä»¶æ›´æ–°å†…å®¹
- ä¸åŒæ ‡é¢˜åˆ›å»ºæ–°æ–‡ä»¶

## ç¯å¢ƒå˜é‡

### å¿…éœ€é…ç½®

```bash
# AnythingLLM API åœ°å€
export ANYTHINGLLM_BASE_URL="http://192.168.3.100:3000/api"

# AnythingLLM API å¯†é’¥
export ANYTHINGLLM_API_KEY="your-api-key-here"
```

### å¯é€‰é…ç½®

```bash
# é»˜è®¤å·¥ä½œåŒºï¼ˆå¯é€‰ï¼‰
export ANYTHINGLLM_WORKSPACE="default-workspace"
```

### é…ç½®æ–¹å¼

1. **ä¸´æ—¶ç¯å¢ƒå˜é‡** (å½“å‰ä¼šè¯)
   ```bash
   export ANYTHINGLLM_BASE_URL="..."
   export ANYTHINGLLM_API_KEY="..."
   ```

2. **Shell é…ç½®æ–‡ä»¶** (æ°¸ä¹…)
   ```bash
   # æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc
   echo 'export ANYTHINGLLM_BASE_URL="..."' >> ~/.bashrc
   echo 'export ANYTHINGLLM_API_KEY="..."' >> ~/.bashrc
   source ~/.bashrc
   ```

## é¡¹ç›®ç»“æ„

```
anythingllm-integration/
â”œâ”€â”€ .claude-plugin/
â”‚   â”œâ”€â”€ plugin.json              # Plugin é…ç½®
â”‚   â””â”€â”€ marketplace.json         # å¸‚åœºé…ç½®
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ hooks.json               # Hook é…ç½®
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ force-knowledge-query.sh # å¼ºåˆ¶æŸ¥è¯¢è„šæœ¬
â”‚   â””â”€â”€ check-config.sh          # é…ç½®æ£€æŸ¥
â”œâ”€â”€ commands/                    # æ–œæ å‘½ä»¤
â”‚   â”œâ”€â”€ setup.md
â”‚   â””â”€â”€ sync-knowledge.md
â”œâ”€â”€ mcp-server/
â”‚   â”œâ”€â”€ index.js                 # MCP æœåŠ¡å™¨ä¸»ç¨‹åº
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ CLAUDE.md                    # æœ¬æ–‡ä»¶
â”œâ”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ .mcp.json                    # MCP é…ç½®
â””â”€â”€ package.json
```

## å…³é”®æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| [mcp-server/index.js](mcp-server/index.js) | MCP æœåŠ¡å™¨å®ç°ï¼ŒåŒ…å« 5 ä¸ªå·¥å…· |
| [commands/setup.md](commands/setup.md) | å®‰è£…é…ç½®å‘½ä»¤æ–‡æ¡£ |
| [commands/sync-knowledge.md](commands/sync-knowledge.md) | åŒæ­¥å‘½ä»¤æ–‡æ¡£ |
| [hooks/hooks.json](hooks/hooks.json) | Hook é…ç½®æ–‡ä»¶ |
| [scripts/force-knowledge-query.sh](scripts/force-knowledge-query.sh) | å¼ºåˆ¶æŸ¥è¯¢è„šæœ¬ |

## æ•…éšœæ’æŸ¥

### è‡ªåŠ¨æŸ¥è¯¢ä¸ç”Ÿæ•ˆ

1. æ£€æŸ¥ hooks/hooks.json æ˜¯å¦å­˜åœ¨
2. éªŒè¯è„šæœ¬æœ‰æ‰§è¡Œæƒé™
3. é‡å¯ Claude Code

### MCP è¿æ¥å¤±è´¥

1. ç¡®è®¤ç¯å¢ƒå˜é‡å·²è®¾ç½®
2. éªŒè¯ AnythingLLM API å¯è®¿é—®
3. æ£€æŸ¥ npm ä¾èµ–å·²å®‰è£…: `cd mcp-server && npm install`

### åŒæ­¥å¤±è´¥

1. æ£€æŸ¥ .env é…ç½®
2. ç¡®è®¤å·¥ä½œåŒºå­˜åœ¨
3. éªŒè¯ API Key æ­£ç¡®æ€§

## å¼€å‘ç›¸å…³

- **Node.js**: >= 18.0.0
- **ä¸»è¦ä¾èµ–**: @modelcontextprotocol/sdk, axios, cheerio
- **MCP SDK**: Model Context Protocol SDK
- **è®¸å¯è¯**: MIT

## ç›¸å…³èµ„æº

- [AnythingLLM æ–‡æ¡£](https://github.com/Mintplex-Labs/anything-llm)
- [Claude Code Hooks æ–‡æ¡£](https://code.claude.com/docs/en/hooks)
- [Claude Code MCP æ–‡æ¡£](https://code.claude.com/docs/en/mcp)
